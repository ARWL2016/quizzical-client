(this.webpackJsonpquizzical=this.webpackJsonpquizzical||[]).push([[0],{36:function(e,t,n){e.exports=n(77)},41:function(e,t,n){},43:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(32),i=n.n(c),o=(n(41),n(4)),s=n(5),u=n(7),l=n(6),d=n(13),p=n(1),m=n.n(p),h=n(2),f=(n(43),function(e){return r.a.createElement("div",{className:"quiz-title",onClick:e.click},e.title)}),v=n(14),b=n.n(v);function E(e){return e.sort((function(){return Math.random()-.5}))}var q="http://localhost:3001";function w(){return y.apply(this,arguments)}function y(){return(y=Object(h.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat(q,"/quiz"));case 3:return t=e.sent,e.abrupt("return",t.data.data.quizzes);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function k(e){return g.apply(this,arguments)}function g(){return(g=Object(h.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat(q,"/quiz/").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data.data.quiz);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function O(e){return j.apply(this,arguments)}function j(){return(j=Object(h.a)(m.a.mark((function e(t){var n,a,r,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat(q,"/quiz/").concat(t,"/questions"));case 3:return n=e.sent,a=n.data.data,r=a.quiz,(c=a.questions).forEach((function(e){var t=Object.keys(e.options);e.sequence=E(t)})),e.abrupt("return",{quiz:r,questions:c});case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function z(e){return x.apply(this,arguments)}function x(){return(x=Object(h.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post("".concat(q,"/quiz"),t);case 3:return n=e.sent,e.abrupt("return",n.data.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var C=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={quizTitles:[]},e.titleClickHandler=function(t,n){e.props.history.push({pathname:"/info/"+n.id})},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=Object(h.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:(t=e.sent)&&(n=t.map((function(e){return{id:e.quiz_id,title:e.title}})),this.setState({quizTitles:n}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.quizTitles;return r.a.createElement("div",{className:"QuizList"},t.map((function(t){return r.a.createElement(f,{key:t.id,click:function(){return e.titleClickHandler(null,t)},title:t.title})})))}}]),n}(a.Component),N=n(16),Q=n(12);function S(e){return A.apply(this,arguments)}function A(){return(A=Object(h.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat(q,"/attempt/").concat(t,"/report"));case 3:return n=e.sent,e.abrupt("return",n.data.data.report);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function _(e){return H.apply(this,arguments)}function H(){return(H=Object(h.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post("".concat(q,"/attempt"),t);case 3:return n=e.sent,e.abrupt("return",n.data.data.result);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}n(61);var M=function(e){var t=e.options,n=e.text,a=e.question_number,c=e.question_id,i=e.optionIdSelected,o=e.sequence;return r.a.createElement("form",{className:"question"},r.a.createElement("p",null,a,". ",n),o.map((function(n){return r.a.createElement("div",{key:n},r.a.createElement("input",{type:"radio",id:n,value:t[n],onChange:function(){return e.clickHandler(c,n)},checked:n===i}),r.a.createElement("label",{htmlFor:n},t[n]))})))},T=(n(62),n(63),function(e){return e.show?r.a.createElement("div",{className:"backdrop",onClick:e.clicked}):null}),F=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return e.show!==this.props.show||e.children!==this.props.children}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(T,{show:this.props.show,clicked:this.props.clicked}),r.a.createElement("div",{className:"modal",style:{transform:this.props.show?"translateY(0)":"translateY(-100vh)",opacity:this.props.show?"1":"0"}},this.props.children))}}]),n}(a.Component),D=(n(64),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).quiz={},e.questions=[],e.state={selectedQuestion:null,answers:{},count:0,showModal:!1,invalidMessage:"Please complete all questions"},e.clickHandler=function(t,n){e.setState((function(e){return{answers:Object(Q.a)({},e.answers,Object(N.a)({},t,n))}}))},e.nextHandler=function(t){e.setState((function(n){var a=n.count+t;return{selectedQuestion:e.questions[a],answers:Object(Q.a)({},n.answers),count:a}}))},e.checkHandler=Object(h.a)(m.a.mark((function t(){var n,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.checkValidity()){t.next=8;break}return n={answers:e.state.answers,quiz_id:e.quiz.quiz_id,user_id:e.quiz.user_id},t.next=4,_(n);case 4:(a=t.sent)&&e.props.history.push("/result/".concat(a.attempt_id)),t.next=9;break;case 8:e.setState({showModal:!0});case 9:case"end":return t.stop()}}),t)}))),e.handleModalClick=function(){e.setState({showModal:!1})},e.checkValidity=function(){var t=!0,n=e.state.answers;return Object.keys(n).forEach((function(e){null===n[e]&&(t=!1)})),t},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=Object(h.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(this.props.match.params.id);case 2:(t=e.sent)&&(this.quiz=t.quiz,this.questions=t.questions,n={},this.questions.forEach((function(e){n[e.question_id]=null})),this.setState({selectedQuestion:this.questions[0],answers:n,count:0}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderSaveButton",value:function(e){var t=this;if(e)return r.a.createElement("button",{className:"next",onClick:function(){return t.checkHandler()}},"Check Answers")}},{key:"render",value:function(){var e=this;if(!this.state.selectedQuestion)return r.a.createElement("div",null);var t=this.state,n=t.selectedQuestion,a=t.count,c=t.answers,i=a===this.questions.length-1,o=c?c[n.question_id]:null;return r.a.createElement("div",{className:"quiz-container"},r.a.createElement("header",null,r.a.createElement("h2",null,this.quiz.title),r.a.createElement("span",null,a+1," / ",this.questions.length)),r.a.createElement("section",null,r.a.createElement("div",null,r.a.createElement(M,Object.assign({key:n.question_id},n,{optionIdSelected:o,clickHandler:this.clickHandler}))),r.a.createElement("div",null,r.a.createElement("button",{className:"previous",disabled:0===a,onClick:function(){return e.nextHandler(-1)}},"Previous"),r.a.createElement("button",{className:"next",disabled:i,onClick:function(){return e.nextHandler(1)}},"Next"),this.renderSaveButton(i))),r.a.createElement(F,{show:this.state.showModal,clicked:this.handleModalClick},this.state.invalidMessage))}}]),n}(a.Component)),B=(n(65),n(66),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={quiz:{}},e.backHandler=function(){e.props.history.push("/home")},e.startQuizHandler=function(){e.props.history.push("/quiz/"+e.state.quiz.quiz_id)},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=Object(h.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=+this.props.match.params.id,e.next=3,k(t);case 3:(n=e.sent)&&this.setState({quiz:n});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"quiz-header"},r.a.createElement("h1",null,this.state.quiz.title),r.a.createElement("button",{onClick:this.backHandler},"Back to Quiz List"),r.a.createElement("button",{onClick:this.startQuizHandler},"Start Quiz"))}}]),n}(a.Component)),L=n(35),W=(n(67),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={quizTitle:"",questions:[]},e.addQuestion=function(){var t=e.state.questions.length+1;e.setState((function(e){return{questions:[].concat(Object(L.a)(e.questions),[{number:t,text:"",correctAnswer:"",options:["","",""]}])}}))},e.handleTitleChange=function(t){e.setState({quizTitle:t.target.value})},e.handleQuestionChange=function(t,n,a){var r=t.target.value;e.setState((function(e){return{questions:e.questions.map((function(e){return e.number===n?Object(Q.a)({},e,Object(N.a)({},a,r)):e}))}}))},e.handleOptionChange=function(t,n,a){var r=t.target.value;e.setState((function(e){return{questions:e.questions.map((function(e){return e.number===n?Object(Q.a)({},e,{options:e.options.map((function(e,t){return t===a?r:e}))}):e}))}}))},e.handleAddQuestion=function(t){t.preventDefault(),e.addQuestion()},e.handleRemoveQuestion=function(t,n){t.preventDefault(),e.setState((function(e){return{questions:e.questions.filter((function(e){return e.number!==n})).map((function(e,t){return Object(Q.a)({},e,{number:t+1})}))}}))},e.handleFormSubmit=function(){var t=Object(h.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,z(e.state);case 3:t.sent&&e.props.history.push("/home");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.addQuestion()}},{key:"render",value:function(){var e=this,t=this.state,n=t.quizTitle,a=t.questions;return a?r.a.createElement("form",{className:"quiz-form-container",onSubmit:this.handleFormSubmit},r.a.createElement("div",{className:"form-field-container"},r.a.createElement("div",{className:"form-field title-field"},r.a.createElement("label",{htmlFor:"quizTitle"},"Quiz Title"),r.a.createElement("input",{type:"text",name:"quizTitle",placeholder:"add a snappy title",value:n,onChange:this.handleTitleChange,required:"required"})),a.map((function(t,n){return r.a.createElement("div",{key:n,className:"question-container"},r.a.createElement("div",{className:"form-field"},r.a.createElement("label",{htmlFor:t.number},"Q",t.number,"."),r.a.createElement("input",{placeholder:"add question text",type:"text",name:t.number,value:t.text,onChange:function(n){return e.handleQuestionChange(n,t.number,"text")},required:"required"})),r.a.createElement("div",{className:"answers-container"},r.a.createElement("div",{className:"form-field"},r.a.createElement("label",{htmlFor:"correctAnswer"},"Answer"),r.a.createElement("input",{type:"text",placeholder:"correct answer text",name:"correctAnswer",value:t.correctAnswer,onChange:function(n){return e.handleQuestionChange(n,t.number,"correctAnswer")},required:"required"})),t.options.map((function(n,a){return r.a.createElement("div",{key:a},r.a.createElement("div",{className:"form-field"},r.a.createElement("label",{htmlFor:n},"Option"),r.a.createElement("input",{type:"text",placeholder:"alternative answer "+(a+1),name:n,value:n,onChange:function(n){return e.handleOptionChange(n,t.number,a)},required:"required"})))}))),a.length<2?null:r.a.createElement("div",{className:"question-button-container"},r.a.createElement("button",{className:"remove-question-button",onClick:function(n){return e.handleRemoveQuestion(n,t.number)}},"Remove Question")))})),r.a.createElement("div",{className:"form-button-container"},r.a.createElement("button",{className:"add-question-button",onClick:this.handleAddQuestion},"Add Question"),r.a.createElement("input",{type:"submit",value:"Save Quiz"})))):null}}]),n}(a.Component)),Y=n(17),I=(n(68),function(){return r.a.createElement("nav",{className:"top-nav"},r.a.createElement(Y.b,{to:"/home"},r.a.createElement("span",{className:"logo"},"quizzical?")),r.a.createElement(Y.b,{to:"/add"},r.a.createElement("span",{className:"menu-item"},"Add Quiz")))}),R=(n(74),function(e){return r.a.createElement("div",{className:"card"},r.a.createElement("header",{className:"card-header"},r.a.createElement("h2",null,e.header)),r.a.createElement("section",{className:"card-section"},e.body,e.children))}),P=(n(75),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=Object(h.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=+this.props.match.params.id,e.next=3,S(t);case 3:(n=e.sent)&&this.setState(Object(Q.a)({},n));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderErrors",value:function(){var e=this.state.results.filter((function(e){return!1===e.result}));if(e.length)return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Here's what you got wrong..."),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"Your answer"),r.a.createElement("th",null,"Correct answer"))),r.a.createElement("tbody",null,e.map((function(e){return r.a.createElement("tr",{key:e.question_id},r.a.createElement("td",null,e.question_id,") ",e.text),r.a.createElement("td",{style:{textAlign:"center"}},e.option_selected),r.a.createElement("td",{style:{textAlign:"center"}},e.correct_option))})))))}},{key:"renderBody",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"score"},"You scored ",this.state.score," out of ",this.state.num_questions),this.renderErrors())}},{key:"render",value:function(){return this.state&&this.state.results?r.a.createElement("div",{className:"result-container"},r.a.createElement(R,{className:"result-container",header:this.state.quiz_title,body:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"score"},"You scored ",this.state.score," out of ",this.state.num_questions),this.renderErrors())})):null}}]),n}(a.Component)),J=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"LayoutContainer"},r.a.createElement(I,null),r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/home",component:C}),r.a.createElement(d.b,{path:"/info/:id",component:B}),r.a.createElement(d.b,{path:"/quiz/:id",component:D}),r.a.createElement(d.b,{path:"/result/:id",component:P}),r.a.createElement(d.b,{path:"/add",component:W}),r.a.createElement(d.a,{to:"/home"})))}}]),n}(a.Component),U=(n(76),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(Y.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(J,null)))}}]),n}(a.Component)),V=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}console.log("[quizzical-client] running in ".concat("production"," mode")),console.log("[quizzical-client] connecting to API on ".concat(q)),i.a.render(r.a.createElement(U,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");V?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):$(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):$(e)}))}}()}},[[36,1,2]]]);
//# sourceMappingURL=main.71652e23.chunk.js.map